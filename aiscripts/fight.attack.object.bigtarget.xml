<?xml version='1.0' encoding='utf-8'?>
<diff>
  <replace sel="/aiscript/attention[@min='visible']/actions/do_if[@value='$iscapship']/set_value[@name='$ToleranceWeapon1'][@exact='8.0deg']/@exact">4.0deg</replace>
  <replace sel="/aiscript/attention[@min='visible']/actions/do_else/set_value[@name='$ToleranceWeapon1'][@exact='18.0deg']/@exact">8.0deg</replace>
  <add sel="/aiscript/attention[@min='visible']/actions/do_while[@value='$target.canbeattacked']/do_if[@value='this.sector != $bigtarget.sector or (not $pursuetargets and $refobject.distanceto.{$bigtarget} gt $pursuedistance)']" pos="after">
    <do_if value="this.ship.dock and this.ship.pilot">
      <run_script name="'move.undock'">
        <param name="uselaunchtubes" value="true"/>
      </run_script>
      <debug_text text="'MOD: DeadAirAITweaks -- %1 -- Undocking ship with attack script: %2'.[player.age,this.ship.idcode]" context="false" filter="scripts" chance="100"/>
    </do_if>
  </add>
  <replace sel="/aiscript/attention[@min='visible']/actions/do_while[@value='$target.canbeattacked']/do_if[@value='$isinview']/@chance">100</replace>
  <replace sel="/aiscript/attention[@min='visible']/actions/do_while[@value='$target.canbeattacked']/do_while[@value='$target.canbeattacked and $gaindistancetimeout gt player.age']/set_value[@name='$time_gaindistance'][@min='[10s * this.assignedcontrolled.combinedskill / 100, 1s].max'][@max='[30s * this.assignedcontrolled.combinedskill / 100, 3s].max']/@min">10s</replace>
  <replace sel="/aiscript/attention[@min='visible']/actions/do_while[@value='$target.canbeattacked']/do_while[@value='$target.canbeattacked and $gaindistancetimeout gt player.age']/set_value[@name='$time_gaindistance'][@min='10s'][@max='[30s * this.assignedcontrolled.combinedskill / 100, 3s].max']/@max">30s</replace>
</diff>
